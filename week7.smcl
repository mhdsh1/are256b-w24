{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}<unnamed>
       {txt}log:  {res}C:\Users\mahdi\are256b-W24\week7.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res} 1 Mar 2024, 08:03:13
{txt}
{com}. *--------------------------------------------------
. 
. *set working directory 
. global path = "C:\Users\mahdi\are256b-W24"
{txt}
{com}. cd $path
{res}C:\Users\mahdi\are256b-W24
{txt}
{com}. 
. 
. *--------------------------------------------------
. * Section Random Walk
. *--------------------------------------------------
. 
. *use S&P 500 index data
. import excel "data/SP500.xls", firstrow clear 
{res}{txt}
{com}. 
. 
. rename DATE date
{res}{txt}
{com}. rename SP500 sp500
{res}{txt}
{com}. destring sp500, replace
{txt}sp500 has all characters numeric; {res}replaced {txt}as {res}double
{txt}(46 missing values generated)
{res}{txt}
{com}. 
. *we use "format" to make date readable
. format date %td
{txt}
{com}. tsset date
{res}{txt}{col 9}time variable:  {res}{col 25}date, 23feb2018 to 23feb2023, but with gaps
{txt}{col 17}delta:  {res}1 day
{txt}
{com}. 
. 
. tsline sp500
{res}{txt}
{com}. 
. gen log_sp500 = log(sp500)
{txt}(46 missing values generated)

{com}. tsline log_sp500
{res}{txt}
{com}. 
. *Only check data before the pandemic
. *till Feb 14th, 2020
. *keep if date<21960
. 
. tsline log_sp500
{res}{txt}
{com}. 
. 
. reg log_sp500 L1.log_sp500

{txt}      Source {c |}       SS           df       MS      Number of obs   ={res}       985
{txt}{hline 13}{c +}{hline 34}   F(1, 983)       > {res} 99999.00
{txt}       Model {c |} {res} 35.2322903         1  35.2322903   {txt}Prob > F        ={res}    0.0000
{txt}    Residual {c |} {res} .173876397       983  .000176883   {txt}R-squared       ={res}    0.9951
{txt}{hline 13}{c +}{hline 34}   Adj R-squared   ={res}    0.9951
{txt}       Total {c |} {res} 35.4061667       984  .035981877   {txt}Root MSE        =   {res}  .0133

{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 1}   log_sp500{col 14}{c |}      Coef.{col 26}   Std. Err.{col 38}      t{col 46}   P>|t|{col 54}     [95% Con{col 67}f. Interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 3}log_sp500 {c |}
{space 9}L1. {c |}{col 14}{res}{space 2} .9972702{col 26}{space 2} .0022345{col 37}{space 1}  446.30{col 46}{space 3}0.000{col 54}{space 4} .9928852{col 67}{space 3} 1.001655
{txt}{space 12} {c |}
{space 7}_cons {c |}{col 14}{res}{space 2}  .022716{col 26}{space 2} .0181932{col 37}{space 1}    1.25{col 46}{space 3}0.212{col 54}{space 4} -.012986{col 67}{space 3}  .058418
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{res}{txt}
{com}. 
. 
. *testing against rho=1 -- The Naive approach
. * we should avoid doing this and do DF test instead
. * find the tstat
. *dis (1/se)*(rhoh -1) 
. 
{txt}end of do-file

{com}. do "C:\Users\mahdi\AppData\Local\Temp\STD00000000.tmp"
{txt}
{com}. dis (1/.0022345)*(.9972702  -1) 
{res}-1.2216603
{txt}
{com}. 
{txt}end of do-file

{com}. do "C:\Users\mahdi\AppData\Local\Temp\STD00000000.tmp"
{txt}
{com}. dis (1/.0022345)*abs(.9972702  -1) 
{res}1.2216603
{txt}
{com}. 
{txt}end of do-file

{com}. do "C:\Users\mahdi\AppData\Local\Temp\STD00000000.tmp"
{txt}
{com}. dis (1/.0022345)*abs(.9972702  -0) 
{res}446.30575
{txt}
{com}. 
{txt}end of do-file

{com}. do "C:\Users\mahdi\AppData\Local\Temp\STD00000000.tmp"
{txt}
{com}. dfuller log_sp500, regress

{txt}Dickey-Fuller test for unit root                   Number of obs   = {res}      985

{txt}{col 32}{hline 10} Interpolated Dickey-Fuller {hline 9}
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
{hline 78}
 Z(t)         {res}    -1.222            -3.430            -2.860            -2.570
{txt}{hline 78}
MacKinnon approximate p-value for Z(t) = {res}0.6642

{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 1} D.log_sp500{col 14}{c |}      Coef.{col 26}   Std. Err.{col 38}      t{col 46}   P>|t|{col 54}     [95% Con{col 67}f. Interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 3}log_sp500 {c |}
{space 9}L1. {c |}{col 14}{res}{space 2}-.0027298{col 26}{space 2} .0022345{col 37}{space 1}   -1.22{col 46}{space 3}0.222{col 54}{space 4}-.0071148{col 67}{space 3} .0016552
{txt}{space 12} {c |}
{space 7}_cons {c |}{col 14}{res}{space 2}  .022716{col 26}{space 2} .0181932{col 37}{space 1}    1.25{col 46}{space 3}0.212{col 54}{space 4} -.012986{col 67}{space 3}  .058418
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}

{com}. 
{txt}end of do-file

{com}. do "C:\Users\mahdi\AppData\Local\Temp\STD00000000.tmp"
{txt}
{com}. dfuller log_sp500, regress

{txt}Dickey-Fuller test for unit root                   Number of obs   = {res}      985

{txt}{col 32}{hline 10} Interpolated Dickey-Fuller {hline 9}
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
{hline 78}
 Z(t)         {res}    -1.222            -3.430            -2.860            -2.570
{txt}{hline 78}
MacKinnon approximate p-value for Z(t) = {res}0.6642

{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 1} D.log_sp500{col 14}{c |}      Coef.{col 26}   Std. Err.{col 38}      t{col 46}   P>|t|{col 54}     [95% Con{col 67}f. Interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 3}log_sp500 {c |}
{space 9}L1. {c |}{col 14}{res}{space 2}-.0027298{col 26}{space 2} .0022345{col 37}{space 1}   -1.22{col 46}{space 3}0.222{col 54}{space 4}-.0071148{col 67}{space 3} .0016552
{txt}{space 12} {c |}
{space 7}_cons {c |}{col 14}{res}{space 2}  .022716{col 26}{space 2} .0181932{col 37}{space 1}    1.25{col 46}{space 3}0.212{col 54}{space 4} -.012986{col 67}{space 3}  .058418
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}

{com}. 
{txt}end of do-file

{com}. do "C:\Users\mahdi\AppData\Local\Temp\STD00000000.tmp"
{txt}
{com}. gen dlog_sp500 = log_sp500 - log_sp500[_n-1]
{txt}(93 missing values generated)

{com}. tsline dlog_sp500
{res}{txt}
{com}. 
. ac dlog_sp500, lags(200)
{txt}(note: time series has 266 gaps)
{res}{txt}
{com}. dfuller dlog_sp500, regress

{txt}Dickey-Fuller test for unit root                   Number of obs   = {res}      945

{txt}{col 32}{hline 10} Interpolated Dickey-Fuller {hline 9}
                  Test         1% Critical       5% Critical      10% Critical
               Statistic           Value             Value             Value
{hline 78}
 Z(t)         {res}   -38.543            -3.430            -2.860            -2.570
{txt}{hline 78}
MacKinnon approximate p-value for Z(t) = {res}0.0000

{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 1}D.dlog_sp500{col 14}{c |}      Coef.{col 26}   Std. Err.{col 38}      t{col 46}   P>|t|{col 54}     [95% Con{col 67}f. Interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 2}dlog_sp500 {c |}
{space 9}L1. {c |}{col 14}{res}{space 2}-1.179357{col 26}{space 2} .0305983{col 37}{space 1}  -38.54{col 46}{space 3}0.000{col 54}{space 4}-1.239406{col 67}{space 3}-1.119308
{txt}{space 12} {c |}
{space 7}_cons {c |}{col 14}{res}{space 2} .0005159{col 26}{space 2} .0004276{col 37}{space 1}    1.21{col 46}{space 3}0.228{col 54}{space 4}-.0003232{col 67}{space 3}  .001355
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}

{com}. 
{txt}end of do-file

{com}. 